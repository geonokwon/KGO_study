# virtualbox
- 홈페이지([https://www.virtualbox.org](https://www.virtualbox.org/))

## 가상화란?

- 하나의 컴퓨터상에서 여러 독립적인 OS를 설치하고 동시에 운영할 수 있는 시스템을 구성하는 것.
- 4대의 컴퓨터가 필요하다고 가정하면 실제로는 4대의 컴퓨터를 구입해야 한다. 그러나, 가상화 개념을 사용하면 단 한대의 컴퓨터만 있으면 된다.
- 이 때, 단 한대의 컴퓨터를 호스트 컴퓨터라고 하고 가상으로 만들어지는 컴퓨터를 게스트컴퓨터 또는 가상머신이라고 한다.
- 가상화를 위해선 가상머신 소프트웨어가 필요하다.

## 가상 머신 생성

![[Untitled 14.png|Untitled 14.png]]

[ 가상 머신 생성 ]  
새로 만들기 -> 가상 머신 만들기 창 열림 -> 아래쪽 버튼에 '전문가 모드' 클릭  

<이름 및 운영체제>  
이름 : WebServer  
폴더 : 환경설정에 선택한 폴더명(기본값)  
IOS 이미지 : CentOS-7-x86_64-DVD-2207-02.iso  
종류 : Linux  
버전 : Red Hat(64-bit)  

무인 설치 건너뛰기 (체크)

<하드웨어>  
기본 메모리 : 2048MB(기본값)  
프로세서 : 초록색 끝까지 변경(컴퓨터마다 숫자가 다를 수 있음)  

설정이 되었다면 '완료' 클릭  
=> 윈도우(호스트 컴퓨터) 안에 WebServer 라는 이름의 가상머신이 만들어 졌음!!  

  

### 웹서버 설정

![[Untitled 1 2.png|Untitled 1 2.png]]

WebServer 선택 -> 설정 -> 시스템  
포인팅 장치 : PS/2 마우스 -> USB 멀티터치 태블릿 변경  
□ 하드웨어 시각을 UTC로 보고 체크 해제! -> KST(한국 표준 시각)으로 동작!  
※ UTC : 세계 협정시  

![[Untitled 2 2.png|Untitled 2 2.png]]

저장소 -> 비어있음 선택 -> 오른쪽 CD 모양 버튼 -> 디스크 파일 선택 -> CentOS7... iso 파일 선택

네트워크 -> 다음에 연결됨 : NAT -> 어탭터에 브리지로 변경

'확인' 눌러서 종료

### [ 가상 머신에 리눅스 설치하기 ]

![[Untitled 3 2.png|Untitled 3 2.png]]

- WebServer 더블 클릭 또는 '->' 클릭
- 방향키 ↑ 눌러서 install CentOS 7 선택

검색창 : ko -> 한국어 선택 계속진행

소프트웨어  
소프트웨어 선택 클릭 -> GNOME 데스크탑 선택 완료  

![[Untitled 4 2.png|Untitled 4 2.png]]

시스템  
설치 대상 클릭 -> 완료  
네트워크 및 호스트명 클릭 -> 켬 -> 이더넷 연결됨으로 변경  
=> 자동으로 IP주소가 할당됨 ⇒완료  

![[Untitled 5 2.png|Untitled 5 2.png]]

'설치 시작' 버튼 클릭!!  
=> 설치 진행됨!  

![[Untitled 6 2.png|Untitled 6 2.png]]

ROOT 암호 클릭 -> 암호 : 1로 설정!! -> 완료, 완료  
※ 윈도우 관리자 계정 : administrator  
리눅스 관리자 계정 : root  

설치 완료되면 '재부팅' 클릭!

  

## 리눅스 초기설정

### [ 리눅스 초기 설정 ]

1. 머신을 시작
2. 환영합니다! 초기설정  
    다음(한국어) -> 다음 -> 개인정보 '끔'으로 변경 -> 시간대 KST 확인, 다음 -> 건너뛰기 -> 사용자 정보 전체이름 : itwill, 다음 -> 암호지정 : 노란색(2칸) 이상은 되어야 '다음' 버튼이 활성화 됨, 적당한 암호를 입력해서 '다음' -> CentOS Linux 시작  
    => itwill 유저로 로그인  
    
3. 수업을 좀 더 원할하게 하기위해서 root(관리자 계정) 유저로 접속  
    => 오른쪽 상단버튼 -> itwill ▶ -> 로그아웃  
    => 목록에 없습니까? 클릭 -> 사용자 이름 : root , 암호 : 1 -> 로그인  
    
4. root 계정으로 처음 접속을 했으므로 초기설정을 한 번 더 반복  
    다음(한국어) -> 다음 -> 개인정보 끔, 다음 -> 건너뛰기 -> CentOS Linux 시작  
    
5. 해상도 변경

- 우측 상단 3개의 아이콘이 같이 눌러지는 버튼이 있음
- 공구모양 버튼 클릭
- 왼쪽 메뉴 중 맨 아래쪽에 '장치' -> 디스플레이 -> 해상도 클릭 -> 1280 x 768 선택 -> 적용

1. 리눅스를 운영하기 위해서 리눅스와 소통을 해야함 -> 터미널!!  
    바탕화면 우클릭 -> 터미널 열기  
    
2. 터미널 설정  
    편집 -> 기본 설정 -> □ 사용자 지정 글꼴 체크 -> 오른쪽 버튼을 눌러서 글꼴과 크기 변경 후 닫기  
    
3. 리눅스 최신 버전 만들기  
    터미널 -> yum update -y  
    
4. 설정 -> 전원 -> 빈 화면 안함 변경  
    => 입력이 없을 시 기본값 5분이 지나면 자동 로그아웃됨. 해제  
    
5. 만약, itwill 사용자 계정의 비밀번호를 변경 하고자 한다면 터미널 -> passwd itwill (엔터) -> 새 암호 : 1(엔터), 새 암호 재입력 : 1(엔터)  
    ※ 입력 시 보안을 위해 몇 글자를 치는지 보이지 않음!  
    
6. [한글 설정]  
    설정 -> 지역 및 언어 -> '+' 클릭 -> 한국어 -> 한국어(Hangul) 선택, 추가  
    

기존에 있던 '한국어' 는 '-' 버튼을 눌러서 삭제!

'+' 클릭 -> 영어(미국) -> 영어(미국) 선택, 추가

한/영 전환 : 윈우키 + SpaceBar

=====================================  
스냅샷(온라인 / 오프라인)  
동작 중일 때 스냅샷을 만들면 '온라인 스냅샷'  
머신이 종료되어 있을 때 스냅샷을 만들면 '오프라인 스냅샷'  

### 머신 -> 스냅샷 찍기 -> 이름 : 초기설정 완료(초기화)

버츄얼박스 게스트 에디션 설치

1. 터미널 실행
2. yum -y install gcc perl make kernel-devel
3. 장치탭 -> 게스트 확장 CD 이미지 삽입... -> 팝업창이 뜨면 '실행' 클릭  
    ※ 취소 시 바탕화면 CD모양 아이콘 더블클릭 -> 오른쪽 상단 '프로그램 실행' 선택!  
    
4. Press Return to close this window... 메세지가 보이면 엔터키(또는 아무키) 입력
5. 터미널 -> reboot(재시작)

## 가져오기/내보내기

- 가상머신(VM)을 파일로 저장하여 (VirturalBox가 설치된)다른 장치에서 사용하기 위한 기능

1. VirturalBox 관리자창 → 도구 → 내보내기 → 내보내기 할 가상머신 선택(webserver) → 포맷 설정 → 경로 변경 → MAC주소 정택 : 모든 네트워크 어댑터 MAC 주소 제
2. 내보내기 한 파일명 .ova 파일을 선택 → MAC 주소 정책 : 모든 네트크 어댑터의 새 MAC 주소 생성 → 완료 버튼 클릭 → 시작전에 설정 → 네트워크 → NAT 인지 확인하고 더블클리 또는 시작버튼 클

## 웹(web) 서버

- 클라이언트 ↔ 서버

### 서버(sever)

### 클라이언트(client)

- 서비스를 사용하는 쪽
- 서버에 접속할 수 있는 프로그램이 필요!

### 웹 환경을 구축하는 방법(프로그램)

- Linux : Apache, Nginx
- windows : IIS

### 클라이언트가 웹 서버에 접속하는 방법(프로그램) : 웹프라우저

1. 웹 서비스 프로그램 설치(아파치)
2. 리눅스에서는 프로그램을 ‘패키지’ 라고 부름

터미널 → yum -y install httpd

================================

※ yum 명령어를 인터넷 상 어딘가에 있는 저장소를 접속해서 패키지(프로그램)을 다운로드 한 후 설치 진행

이떄, 프로그램이 동작하기 위해서 설치가 더 필요한 패키지(프로그램)이 있다면 같이 설치 함.

1. 웹 서비스를 하기 위해서는??
    1. 서버에 웹 서비스를 설치  
          
        ==rpm -qa httpd== → 아파치 웹 프로그램이 설치 되었는지 확인하는 명령어
    2. 웹 서비스 프로그램을 시작  
          
        ==systemctl status httpd== → 아파치 웹 프로그램이 동작하는지 확인하는 명령어  
        → Active : inactive(dead) : 동작하지 않고있음  
        ※ yum 을 통해서 패키지(프로그램)를 설치하면 리눅스의 systemd가 패키지를 담당  
        ※ d(daemon) : 데몬, 백그라운드에서 실행되는 프로그램  
        →  
        ==systemctl start httpd== : 아파치 웹 프로그램 시작(웹 서비스 시작)  
        → Active : active(running) : 동작중(웹서비스를 제공하고 있는중)  
        
2. 프로그램 → 즐겨찾기 →firefox 웹 브라우저 시작
3. 주소창에 [localhost](http://localhost) 를 입력하면 testing 123…. 화면이 나옴  
    → 본래 웹 브라우저는 index.html을 요청하는데 파일이 없다면 오류 페이지가 나오는게 정상  
    → index.html 이 없을 경우 testing 123… 화면을 띄워  
    

![[Untitled 7 2.png|Untitled 7 2.png]]

1. Testing 페이지가 아닌 다른 페이지 보여주기  
    ⇒ 프로그램 → 보조 프로그램 → 텍스트 편집기  
    ⇒ 간단한 내용 입력  
    ⇒ ‘저장’ 버튼 클릭 → 왼쪽 위 ◀ 버튼 클릭 → 디스크 모양 클릭 → var → www → html → 선택후 이름 index.html 로 저장  
    
2. 다시 웹 브라우저 새로고침 하면 index.html 파일을 읽어옴
3. 윈도우 웹 브라우저에서 리눅스 웹 페이지를 보기  
    ⇒ 리눅스 머신의 ip주소 필요  
    ⇒ 리눅스 머신(서버)의 ip 주소 10.0.2.15 를 넣으면 페이지 x  
    ⇒2가지 이유  
    1) 리눅스와 윈도우는 네크워크 입장에서 통신을 할수 없는 상태  
    2) 방화벽 때문!!  
    

## IP주소(IPv4)

- 컴퓨터가 사용하는 주소
- 2 종류 : IPv4, IPv6
- 4byte 주소 체계 (1byte = 8bit)

※ bit는 0 또는 1을 가질 수 있는 단위

- 32bit : 주소 체계
- 2^32개(약 42억여개)의 주소를 사용할 수 있음.
- 2진법 사용
- 가장 작은 IP 주소  
    ⇒ 00000000.00000000.00000000.00000000  
    
- 가장 큰 IP 주소  
    ⇒ 11111111.11111111.11111111.11111111  
    
- 마침표(.)로 나눠지는 구간을 필드 또는 옥텟이라고함
- ip주소는 4개의 필드(또는 옥텟)으로 구성
- 하나의 필드에서 가질 수 있는 가장 작은 숫자  
    ⇒ 00000000 ⇒ 10진수 0  
    
- 하나의 필드에서 가질 수 있는 가장 큰 숫자  
    ⇒ 11111111 ⇒ 10진수 255  
    

## 원격 접속 (Remote Access)

- 외부에서 거리가 떨어져 있는 서버로 접속하기 위해서는 원격 접속 프로그램이 필요
- Putty, MobaXterm, Visual Studio Code 등
- 원격 접속 방식은 Telnet, SSH 이 있으며 Telnet은 보완에 취약하므로 SSH 접속을 사용
- MobaXterm을 검색 →


## 방화벽 http 열기

→ `firewall-cmd --add-service=http --permanent`

→ `firewall-cmd --reload`

- 서비스 확인

→ `firewall-cmd --list-service`

- 리눅스 전원종료 poweroff → 명령어 사용가능